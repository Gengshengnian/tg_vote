
<html>
	<head>
		<title>主观题显示</title>
		<script src="/tg_oa/Public/js/jquery.js"></script>

	</head>
	<body class="content-box" style = "text-align:left">

		<form action = "/tg_oa/index.php/Admin/EvaluateScores/subScores" method = "post">
			<input type="hidden" value="1"  id="shunxua">
			<input type="hidden" value=""  id="shunxub">
			
			<span id = "jianda"></span>
			<h3>五、简答题</h3>
			<input type = "hidden" name = "tep_id" value = "1"/>
				<input type = "hidden" name = "studentid" value = "1"/>

				&nbsp;&nbsp;&nbsp;&nbsp;1<input type = "hidden" name = "tet_id[]" value = "1" />
				.html是什么？主要用来干什么？<br/>
				&nbsp;&nbsp;&nbsp;&nbsp;答：<br/>
				&nbsp;&nbsp;&nbsp;&nbsp;<input type = "button" value = "正确答案" id = "truanswer" onclick="answer(this)"/><span style="display:none" >Html是Hyper text mark language ，是超文本标记语言。是用来编写网页的标记语言。最主要的目的是提供网页内容。不太做美化。</span><br/>
				&nbsp;&nbsp;&nbsp;&nbsp;<input type = "button" value = "解析" id = "analyze" onclick = "analyze(this)"/><span style="display:none"></span><br/>
				&nbsp;&nbsp;&nbsp;&nbsp;<input type = "button" value = "分值" id = "grade" onclick = "grade(this)"/><span>5分</span>
				<div style = "text-align:right">
					得分：<input type = "text" name = "grade[]" style = "width:50px" class = "score"  onmouseleave = "pan(this)" value = "2" /><span style = "display:none">5</span>
				</div><input type = "hidden" name = "tep_id" value = "1"/>
				<input type = "hidden" name = "studentid" value = "1"/>

				&nbsp;&nbsp;&nbsp;&nbsp;2<input type = "hidden" name = "tet_id[]" value = "2" />
				.img标签上title与alt属性的区别是什么?<br/>
				&nbsp;&nbsp;&nbsp;&nbsp;答：<br/>
				&nbsp;&nbsp;&nbsp;&nbsp;<input type = "button" value = "正确答案" id = "truanswer" onclick="answer(this)"/><span style="display:none" >　Alt 当图片不显示是 用文字代表。Title 为该属性提供信息</span><br/>
				&nbsp;&nbsp;&nbsp;&nbsp;<input type = "button" value = "解析" id = "analyze" onclick = "analyze(this)"/><span style="display:none"></span><br/>
				&nbsp;&nbsp;&nbsp;&nbsp;<input type = "button" value = "分值" id = "grade" onclick = "grade(this)"/><span>5分</span>
				<div style = "text-align:right">
					得分：<input type = "text" name = "grade[]" style = "width:50px" class = "score"  onmouseleave = "pan(this)" value = "2" /><span style = "display:none">5</span>
				</div>
			<h3></h3>
			
			<h3></h3>
						<input type = "submit" value = "提交" id= 'cc' />
		</form>

		<script type="text/javascript">
			//打开主观题评分窗口
			$('#cc').click(
			function grade(){
				var score = $(".score");
				var a = parseInt(0);
				var zf = parseInt(0);
				for(var i=0 ; i<score.length ; i++){
					var a = parseInt(score.eq(i).val());
					zf = zf + a;
					zf = parseInt(zf);
				}
				var p = window.opener;
				var b = $("#shunxua").val();
				var c = $("#shunxub").val();
				
				if(b.length == 0){
					var m = c;
				}else{
					var m = b;
				}
				var pd = p.document.getElementById(m);
				pd.innerHTML = zf;
				window.close();
			})

			//显示答案
			function answer(obj){

				 $(obj).next().toggle();
				 if($(obj).val() == "正确答案"){
					 $(obj).val("隐藏答案");
				 }else{
					 $(obj).val("正确答案");
				 }

			}

			//显示解析
			function analyze(obj){
				$(obj).next().toggle();
				 if($(obj).val() == "解析"){
					 $(obj).val("隐藏解析");
				 }else{
					 $(obj).val("解析");
				 }
			}

			//判分
			function pan(obj){
				var a = $(obj).next().html();

				var score = $(".score");

				for(var i=0 ; i<score.length ; i++){
					var b = parseInt(score.eq(i).val());
					if(b>a | a<0){
						alert('您的评分不在分数线内，请重新评分');
					}
				}

			}
		</script>
	</body>
</html>